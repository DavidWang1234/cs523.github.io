---
layout: post
title: Light-Weight Contexts: An OS Abstraction for Safety and Performance
---

When designing a system where performance is the main priority, it is often the case where security is over looked.
Motivated by the Heartbleed incident in 2014, authors of this paper realized that there needs to be a light weight isolation mechanism that the applications such as high performance webservers can use so that each session have a different view of the memory.
Therefore, they proposed a lwC that will do just that: a light weight container that can contain certain parts of the process execution. 

## Overview of *lwC* Mechanism

Their overall approach of keeping the lwC lightweight is amazingly clever: give each child containers the illusion of having a seperate memory space.
This is accomplished by manipulating the *vmspace*, which is the FreeBSD counterpart to linux's *vma*, memory mapping.
Therefore, when switching the lwC occures, only the structure is copied not the actual content.
If the parent container wants to prevent child container to prevent access certain regions of memory, the parent container removed the memory mapping to that part of the memory in *vmspace* of the child.

The semantics of lwC can be easily understood since the API is very similar to *fork()*.
When a child lwC is created, or "forked", the default behaviour is to copy the *vmspace*, file descriptor table, and the preivilege of the parent container.
Therefore, the "forked" lwC can be used as a snapshot that the program can rollback on.
The experiments in the paper shows that switching between containers have lower ovearhead than switching between processes and thet using the containers in webservers have small overhead.

## What about reliability?

One of the comment that was discussed in the presentation was the issues with reliability.
The lwC assumes that a 	

Two comments that were 
